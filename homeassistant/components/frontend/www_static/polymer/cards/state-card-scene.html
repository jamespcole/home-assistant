<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="./state-card-display.html">
<link rel="import" href="./state-card-toggle.html">

<polymer-element name="state-card-scene" attributes="stateObj">
  <template>
    <template if={{allowToggle}}>
      <state-card-toggle stateObj="{{stateObj}}"></state-card-toggle>
    </template>
    <template if={{!allowToggle}}>
      <state-card-display stateObj="{{stateObj}}"></state-card-display>
    </template>
  </template>
  <script>
(function() {
  Polymer({
    allowToggle: false,

    stateObjChanged: function(oldVal, newVal) {
      this.allowToggle = newVal.state === 'off' ||
                         newVal.attributes.active_requested;
    },
  });
})();
  </script>
</polymer-element>
